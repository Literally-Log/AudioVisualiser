import{r as P,a as z,j as i}from"./r3f-g1wBN0as.js";import{u as A}from"./index-BbBGfACN.js";import{a5 as D,a9 as E}from"./three-Bh83E8IK.js";import"./postprocessing-DfBAEU_l.js";function G(){const{frameDataRef:v,settings:t}=A(),M=P.useRef(null),a=t.visualization.scale,{geometry:j,material:c,originalPositions:m}=P.useMemo(()=>{const l=new D(2*a,32,32),s=new Float32Array(l.attributes.position.array),o=new E({color:"#ffffff",emissive:"#888888",emissiveIntensity:.3,wireframe:!0,transparent:!0,opacity:.8});return{geometry:l,material:o,originalPositions:s}},[a]);return z(l=>{const s=l.clock.elapsedTime,o=v.current.frequencyData,p=M.current;if(!o||!p)return;p.rotation.y=s*(t.effects.rotationSpeed*.3||.2),p.rotation.x=Math.sin(s*.1)*.2;const r=j.attributes.position,b=r.count,R=Math.max(1,Math.floor(o.length/b)),u=1/(2*a);for(let e=0;e<b;e++){const n=e*3,q=m[n],w=m[n+1],L=m[n+2],S=e*R%o.length,f=o[S]/255*t.sensitivity.overall,y=f*.8*a,h=q*u,g=w*u,x=L*u,d=1/(Math.sqrt(h*h+g*g+x*x)||1);r.array[n]=q+h*d*y+Math.sin(s*2+e*.1)*f*.1,r.array[n+1]=w+g*d*y+Math.cos(s*1.5+e*.1)*f*.1,r.array[n+2]=L+x*d*y}r.needsUpdate=!0,c.color.set(t.colors.primary),c.emissive.set(t.colors.secondary),c.emissiveIntensity=.2+v.current.frequencyBands.bass*.5}),i.jsxs("group",{children:[i.jsx("ambientLight",{intensity:.3}),i.jsx("pointLight",{position:[5,5,5],intensity:1,color:t.colors.accent}),i.jsx("pointLight",{position:[-5,-5,-5],intensity:.5,color:t.colors.secondary}),i.jsx("mesh",{ref:M,geometry:j,material:c})]})}export{G as default};
