import{r as f,a as v,j as x}from"./r3f-CAPphJur.js";import{u as O}from"./index-Davg_Qsd.js";import{e as z,g as R,Z as q,a6 as E,a7 as F}from"./three-DPks-rhs.js";import"./postprocessing-CdYowpSz.js";function L(){const{frameDataRef:w,settings:r}=O(),C=f.useRef(null),s=30,c=r.visualization.resolution/2||32,m=r.visualization.scale,M=f.useMemo(()=>new z,[]),d=f.useMemo(()=>new z,[]),y=f.useMemo(()=>{const e=[];for(let t=0;t<s;t++){const n=[];for(let l=0;l<=c;l++){const u=l/c*Math.PI*2;n.push(new R(Math.cos(u)*3*m,Math.sin(u)*3*m,0))}const o=new q().setFromPoints(n),i=new E({color:"#ffffff",transparent:!0,opacity:.6}),a=new F(o,i);a.position.z=-t*2,e.push({lineObj:a,mat:i,z:-t*2})}return e},[s,c,m]);return v(e=>{const t=e.clock.elapsedTime,n=w.current.frequencyData;n&&(M.set(r.colors.primary),d.set(r.colors.secondary),y.forEach((o,i)=>{const a=o.lineObj.geometry.attributes.position,l=Math.floor(i/s*n.length*.5),u=(n[l]||0)/255*r.sensitivity.overall;for(let p=0;p<=c;p++){const h=p/c*Math.PI*2,b=(3+u*2+Math.sin(t*2+h*3+i*.5)*u*.5)*m;a.array[p*3]=Math.cos(h)*b,a.array[p*3+1]=Math.sin(h)*b}a.needsUpdate=!0;const j=(o.z+t*3)%(s*2)-s*2;o.lineObj.position.z=j;const g=1-Math.abs(j)/(s*2);o.mat.opacity=g*.8,o.mat.color.lerpColors(M,d,g)}))}),x.jsx("group",{ref:C,children:y.map((e,t)=>x.jsx("primitive",{object:e.lineObj},t))})}export{L as default};
